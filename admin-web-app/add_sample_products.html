<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Sample Products - Admin Panel</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px;
        }
        button:hover {
            background-color: #45a049;
        }
        .status {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Add Sample Products to Firebase</h1>
        <p>This tool will add sample product categories and master products to your Firebase database.</p>
        
        <button onclick="addSampleCategories()">Add Sample Categories</button>
        <button onclick="addSampleMasterProducts()">Add Sample Master Products</button>
        <button onclick="checkExistingData()">Check Existing Data</button>
        
        <div id="status"></div>
        <div id="results"></div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDQhYSANdW-LhXmCUIIOb6U6FGXjjZMC_4",
            authDomain: "request-marketplace.firebaseapp.com",
            projectId: "request-marketplace",
            storageBucket: "request-marketplace.firebasestorage.app",
            messagingSenderId: "395885707900",
            appId: "1:395885707900:web:b2e4fb94ea4af4f91c1859"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function showStatus(message, type = 'success') {
            const statusDiv = document.getElementById('status');
            statusDiv.className = `status ${type}`;
            statusDiv.textContent = message;
        }

        function showResults(data) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
        }

        async function addSampleCategories() {
            try {
                showStatus('Adding sample categories...', 'success');
                
                const categories = [
                    {
                        id: 'electronics',
                        name: 'Electronics',
                        description: 'Electronic devices and accessories',
                        iconUrl: 'üì±',
                        isActive: true,
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    },
                    {
                        id: 'fashion',
                        name: 'Fashion',
                        description: 'Clothing and fashion items',
                        iconUrl: 'üëï',
                        isActive: true,
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    },
                    {
                        id: 'home-garden',
                        name: 'Home & Garden',
                        description: 'Home improvement and garden supplies',
                        iconUrl: 'üè†',
                        isActive: true,
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    },
                    {
                        id: 'automotive',
                        name: 'Automotive',
                        description: 'Car parts and automotive supplies',
                        iconUrl: 'üöó',
                        isActive: true,
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    }
                ];

                for (const category of categories) {
                    await db.collection('product_categories').doc(category.id).set(category);
                }

                showStatus(`Successfully added ${categories.length} categories!`, 'success');
            } catch (error) {
                console.error('Error adding categories:', error);
                showStatus(`Error adding categories: ${error.message}`, 'error');
            }
        }

        async function addSampleMasterProducts() {
            try {
                showStatus('Adding sample master products...', 'success');
                
                const products = [
                    {
                        id: 'iphone-15-pro',
                        name: 'iPhone 15 Pro',
                        description: 'Latest Apple smartphone with titanium design and A17 Pro chip',
                        categoryId: 'electronics',
                        subcategoryId: 'smartphones',
                        brand: 'Apple',
                        specifications: {
                            storage: '128GB',
                            color: 'Natural Titanium',
                            screen: '6.1 inch',
                            camera: '48MP'
                        },
                        isActive: true,
                        imageUrls: ['https://example.com/iphone15pro.jpg'],
                        keywords: ['iphone', 'apple', 'smartphone', 'titanium', 'pro'],
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    },
                    {
                        id: 'samsung-galaxy-s24',
                        name: 'Samsung Galaxy S24',
                        description: 'Premium Android smartphone with AI features',
                        categoryId: 'electronics',
                        subcategoryId: 'smartphones',
                        brand: 'Samsung',
                        specifications: {
                            storage: '256GB',
                            color: 'Onyx Black',
                            screen: '6.2 inch',
                            camera: '50MP'
                        },
                        isActive: true,
                        imageUrls: ['https://example.com/galaxy-s24.jpg'],
                        keywords: ['samsung', 'galaxy', 'android', 'smartphone', 'ai'],
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    },
                    {
                        id: 'macbook-air-m3',
                        name: 'MacBook Air M3',
                        description: 'Ultra-thin laptop with M3 chip and all-day battery life',
                        categoryId: 'electronics',
                        subcategoryId: 'computers',
                        brand: 'Apple',
                        specifications: {
                            processor: 'M3',
                            ram: '8GB',
                            storage: '256GB SSD',
                            screen: '13.6 inch'
                        },
                        isActive: true,
                        imageUrls: ['https://example.com/macbook-air-m3.jpg'],
                        keywords: ['macbook', 'air', 'laptop', 'apple', 'm3', 'ultrabook'],
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    },
                    {
                        id: 'dell-xps-13',
                        name: 'Dell XPS 13',
                        description: 'Premium Windows laptop with InfinityEdge display',
                        categoryId: 'electronics',
                        subcategoryId: 'computers',
                        brand: 'Dell',
                        specifications: {
                            processor: 'Intel Core i7',
                            ram: '16GB',
                            storage: '512GB SSD',
                            screen: '13.4 inch'
                        },
                        isActive: true,
                        imageUrls: ['https://example.com/dell-xps-13.jpg'],
                        keywords: ['dell', 'xps', 'laptop', 'windows', 'ultrabook', 'premium'],
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    },
                    {
                        id: 'nike-air-jordan-1',
                        name: 'Nike Air Jordan 1',
                        description: 'Classic basketball shoes with timeless design',
                        categoryId: 'fashion',
                        subcategoryId: 'shoes',
                        brand: 'Nike',
                        specifications: {
                            type: 'Basketball',
                            material: 'Leather',
                            sizes: 'US 7-13',
                            color: 'Chicago'
                        },
                        isActive: true,
                        imageUrls: ['https://example.com/air-jordan-1.jpg'],
                        keywords: ['nike', 'jordan', 'basketball', 'shoes', 'sneakers', 'classic'],
                        createdAt: new Date(),
                        updatedAt: new Date(),
                        metadata: {}
                    }
                ];

                for (const product of products) {
                    await db.collection('master_products').doc(product.id).set(product);
                }

                showStatus(`Successfully added ${products.length} master products!`, 'success');
            } catch (error) {
                console.error('Error adding products:', error);
                showStatus(`Error adding products: ${error.message}`, 'error');
            }
        }

        async function checkExistingData() {
            try {
                showStatus('Checking existing data...', 'success');
                
                const [categoriesSnapshot, productsSnapshot] = await Promise.all([
                    db.collection('product_categories').get(),
                    db.collection('master_products').get()
                ]);

                const data = {
                    categories: categoriesSnapshot.size,
                    categoryNames: categoriesSnapshot.docs.map(doc => doc.data().name),
                    masterProducts: productsSnapshot.size,
                    productNames: productsSnapshot.docs.map(doc => doc.data().name)
                };

                showResults(data);
                showStatus(`Found ${data.categories} categories and ${data.masterProducts} master products`, 'success');
            } catch (error) {
                console.error('Error checking data:', error);
                showStatus(`Error checking data: ${error.message}`, 'error');
            }
        }
    </script>
</body>
</html>
